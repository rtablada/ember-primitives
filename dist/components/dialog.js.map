{"version":3,"file":"dialog.js","sources":["../../src/components/dialog.gts"],"sourcesContent":["import { template } from \"@ember/template-compiler\";\nimport Component from '@glimmer/component';\nimport { tracked } from '@glimmer/tracking';\nimport { assert } from '@ember/debug';\nimport { hash } from '@ember/helper';\nimport { on } from '@ember/modifier';\nimport { modifier } from 'ember-modifier';\n// temp\n//  https://github.com/tracked-tools/tracked-toolbox/issues/38\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nimport { localCopy } from 'tracked-toolbox';\nimport type { TOC } from '@ember/component/template-only';\nimport type { ModifierLike, WithBoundArgs } from '@glint/template';\nconst DialogElement: TOC<{\n    Element: HTMLDialogElement;\n    Args: {\n        /**\n     * @internal\n     */ open: boolean | undefined;\n        /**\n     * @internal\n     */ onClose: () => void;\n        /**\n     * @internal\n     */ register: ModifierLike<{\n            Element: HTMLDialogElement;\n        }>;\n    };\n    Blocks: {\n        default: [];\n    };\n}> = template(`\n  <dialog ...attributes open={{@open}} {{on \"close\" @onClose}} {{@register}}>\n    {{yield}}\n  </dialog>\n`, {\n    eval () {\n        return eval(arguments[0]);\n    }\n});\nexport interface Signature {\n    Args: {\n        /**\n     * Optionally set the open state of the `<dialog>`\n     * The state will still be managed internally,\n     * so this does not need to be a maintained value, but whenever it changes,\n     * the dialog element will reflect that change accordingly.\n     */ open?: boolean;\n        /**\n     * When the `<dialog>` is closed, this function will be called\n     * and the `<dialog>`'s `returnValue` will be passed.\n     *\n     * This can be used to determine which button was clicked to close the modal\n     *\n     * Note though that this value is only populated when using\n     * `<form method='dialog'>`\n     */ onClose?: (returnValue: string) => void;\n    };\n    Blocks: {\n        default: [{\n                /**\n         * Represents the open state of the `<dialog>` element.\n         */ isOpen: boolean;\n                /**\n         * Closes the `<dialog>` element\n         * Will throw an error if `Dialog` is not rendered.\n         */ close: () => void;\n                /**\n         * Opens the `<dialog>` element.\n         * Will throw an error if `Dialog` is not rendered.\n         */ open: () => void;\n                /**\n         * This is the `<dialog>` element (with some defaults pre-wired).\n         * This is required to be rendered.\n         */ Dialog: WithBoundArgs<typeof DialogElement, 'onClose' | 'register' | 'open'>;\n            }];\n    };\n}\nlet ModalDialog = class ModalDialog extends Component<Signature> {\n    static{\n        template(`\n    {{yield\n      (hash\n        isOpen=this.isOpen\n        open=this.open\n        close=this.close\n        Dialog=(component DialogElement open=@open onClose=this.handleClose register=this.register)\n      )\n    }}\n  `, {\n            component: this,\n            eval () {\n                return eval(arguments[0]);\n            }\n        });\n    }\n    @localCopy('args.open')\n    _isOpen: boolean;\n    get isOpen() {\n        /**\n     * Always fallback to false (closed)\n     */ return this._isOpen ?? false;\n    }\n    set isOpen(val1: boolean) {\n        this._isOpen = val1;\n    }\n    @tracked\n    dialogElement: HTMLDialogElement | undefined;\n    register = modifier((element1: HTMLDialogElement)=>{\n        /**\n     * This is very sad.\n     *\n     * But we need the element to be 'root state'\n     * so that when we read things like \"isOpen\",\n     * when the dialog is finally rendered, all the\n     * downstream properties render.\n     *\n     * This has to be an async / delayed a bit, so that\n     * the tracking frame can exit, and we don't infinite loop\n     */ (async ()=>{\n            await Promise.resolve();\n            this.dialogElement = element1;\n        })();\n    });\n    /**\n   * Closes the dialog -- this will throw an error in development if the dialog element was not rendered\n   */ close = ()=>{\n        assert('Cannot call `close` on <Dialog> without rendering the dialog element.', this.dialogElement);\n        /**\n     * If the element is already closed, don't run all this again\n     */ if (!this.dialogElement.hasAttribute('open')) {\n            return;\n        }\n        /**\n     * removes the `open` attribute\n     * handleClose will be called because the dialog has bound the `close` event.\n     */ this.dialogElement.close();\n    };\n    /**\n   * @internal\n   *\n   * handles the <dialog> element's native close behavior.\n   * listened to via addEventListener('close', ...);\n   */ handleClose = ()=>{\n        assert('Cannot call `handleDialogClose` on <Dialog> without rendering the dialog element. This is likely a bug in ember-primitives. Please open an issue <3', this.dialogElement);\n        this.isOpen = false;\n        this.args.onClose?.(this.dialogElement.returnValue);\n        // the return value ends up staying... which is annoying\n        this.dialogElement.returnValue = '';\n    };\n    /**\n   * Opens the dialog -- this will throw an error in development if the dialog element was not rendered\n   */ open = ()=>{\n        assert('Cannot call `open` on <Dialog> without rendering the dialog element.', this.dialogElement);\n        /**\n     * If the element is already open, don't run all this again\n     */ if (this.dialogElement.hasAttribute('open')) {\n            return;\n        }\n        /**\n     * adds the `open` attribute\n     */ this.dialogElement.showModal();\n        this.isOpen = true;\n    };\n};\nexport const Modal = ModalDialog;\nexport const Dialog = ModalDialog;\nexport default ModalDialog;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL2VtYmVyLXByaW1pdGl2ZXMvZW1iZXItcHJpbWl0aXZlcy9lbWJlci1wcmltaXRpdmVzL3NyYy9jb21wb25lbnRzL2RpYWxvZy5ndHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENvbXBvbmVudCBmcm9tICdAZ2xpbW1lci9jb21wb25lbnQnO1xuaW1wb3J0IHsgdHJhY2tlZCB9IGZyb20gJ0BnbGltbWVyL3RyYWNraW5nJztcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gJ0BlbWJlci9kZWJ1Zyc7XG5pbXBvcnQgeyBoYXNoIH0gZnJvbSAnQGVtYmVyL2hlbHBlcic7XG5pbXBvcnQgeyBvbiB9IGZyb20gJ0BlbWJlci9tb2RpZmllcic7XG5cbmltcG9ydCB7IG1vZGlmaWVyIH0gZnJvbSAnZW1iZXItbW9kaWZpZXInO1xuLy8gdGVtcFxuLy8gIGh0dHBzOi8vZ2l0aHViLmNvbS90cmFja2VkLXRvb2xzL3RyYWNrZWQtdG9vbGJveC9pc3N1ZXMvMzhcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnRcbi8vIEB0cy1pZ25vcmVcbmltcG9ydCB7IGxvY2FsQ29weSB9IGZyb20gJ3RyYWNrZWQtdG9vbGJveCc7XG5cbmltcG9ydCB0eXBlIHsgVE9DIH0gZnJvbSAnQGVtYmVyL2NvbXBvbmVudC90ZW1wbGF0ZS1vbmx5JztcbmltcG9ydCB0eXBlIHsgTW9kaWZpZXJMaWtlLCBXaXRoQm91bmRBcmdzIH0gZnJvbSAnQGdsaW50L3RlbXBsYXRlJztcblxuY29uc3QgRGlhbG9nRWxlbWVudDogVE9DPHtcbiAgRWxlbWVudDogSFRNTERpYWxvZ0VsZW1lbnQ7XG4gIEFyZ3M6IHtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBvcGVuOiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIG9uQ2xvc2U6ICgpID0-IHZvaWQ7XG5cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICByZWdpc3RlcjogTW9kaWZpZXJMaWtlPHsgRWxlbWVudDogSFRNTERpYWxvZ0VsZW1lbnQgfT47XG4gIH07XG4gIEJsb2NrczogeyBkZWZhdWx0OiBbXSB9O1xufT4gPSA8dGVtcGxhdGU-XG4gIDxkaWFsb2cgLi4uYXR0cmlidXRlcyBvcGVuPXt7QG9wZW59fSB7e29uIFwiY2xvc2VcIiBAb25DbG9zZX19IHt7QHJlZ2lzdGVyfX0-XG4gICAge3t5aWVsZH19XG4gIDwvZGlhbG9nPlxuPC90ZW1wbGF0ZT47XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2lnbmF0dXJlIHtcbiAgQXJnczoge1xuICAgIC8qKlxuICAgICAqIE9wdGlvbmFsbHkgc2V0IHRoZSBvcGVuIHN0YXRlIG9mIHRoZSBgPGRpYWxvZz5gXG4gICAgICogVGhlIHN0YXRlIHdpbGwgc3RpbGwgYmUgbWFuYWdlZCBpbnRlcm5hbGx5LFxuICAgICAqIHNvIHRoaXMgZG9lcyBub3QgbmVlZCB0byBiZSBhIG1haW50YWluZWQgdmFsdWUsIGJ1dCB3aGVuZXZlciBpdCBjaGFuZ2VzLFxuICAgICAqIHRoZSBkaWFsb2cgZWxlbWVudCB3aWxsIHJlZmxlY3QgdGhhdCBjaGFuZ2UgYWNjb3JkaW5nbHkuXG4gICAgICovXG4gICAgb3Blbj86IGJvb2xlYW47XG4gICAgLyoqXG4gICAgICogV2hlbiB0aGUgYDxkaWFsb2c-YCBpcyBjbG9zZWQsIHRoaXMgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWRcbiAgICAgKiBhbmQgdGhlIGA8ZGlhbG9nPmAncyBgcmV0dXJuVmFsdWVgIHdpbGwgYmUgcGFzc2VkLlxuICAgICAqXG4gICAgICogVGhpcyBjYW4gYmUgdXNlZCB0byBkZXRlcm1pbmUgd2hpY2ggYnV0dG9uIHdhcyBjbGlja2VkIHRvIGNsb3NlIHRoZSBtb2RhbFxuICAgICAqXG4gICAgICogTm90ZSB0aG91Z2ggdGhhdCB0aGlzIHZhbHVlIGlzIG9ubHkgcG9wdWxhdGVkIHdoZW4gdXNpbmdcbiAgICAgKiBgPGZvcm0gbWV0aG9kPSdkaWFsb2cnPmBcbiAgICAgKi9cbiAgICBvbkNsb3NlPzogKHJldHVyblZhbHVlOiBzdHJpbmcpID0-IHZvaWQ7XG4gIH07XG4gIEJsb2Nrczoge1xuICAgIGRlZmF1bHQ6IFtcbiAgICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcHJlc2VudHMgdGhlIG9wZW4gc3RhdGUgb2YgdGhlIGA8ZGlhbG9nPmAgZWxlbWVudC5cbiAgICAgICAgICovXG4gICAgICAgIGlzT3BlbjogYm9vbGVhbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENsb3NlcyB0aGUgYDxkaWFsb2c-YCBlbGVtZW50XG4gICAgICAgICAqIFdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgYERpYWxvZ2AgaXMgbm90IHJlbmRlcmVkLlxuICAgICAgICAgKi9cbiAgICAgICAgY2xvc2U6ICgpID0-IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPcGVucyB0aGUgYDxkaWFsb2c-YCBlbGVtZW50LlxuICAgICAgICAgKiBXaWxsIHRocm93IGFuIGVycm9yIGlmIGBEaWFsb2dgIGlzIG5vdCByZW5kZXJlZC5cbiAgICAgICAgICovXG4gICAgICAgIG9wZW46ICgpID0-IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBgPGRpYWxvZz5gIGVsZW1lbnQgKHdpdGggc29tZSBkZWZhdWx0cyBwcmUtd2lyZWQpLlxuICAgICAgICAgKiBUaGlzIGlzIHJlcXVpcmVkIHRvIGJlIHJlbmRlcmVkLlxuICAgICAgICAgKi9cbiAgICAgICAgRGlhbG9nOiBXaXRoQm91bmRBcmdzPHR5cGVvZiBEaWFsb2dFbGVtZW50LCAnb25DbG9zZScgfCAncmVnaXN0ZXInIHwgJ29wZW4nPjtcbiAgICAgIH0sXG4gICAgXTtcbiAgfTtcbn1cblxuY2xhc3MgTW9kYWxEaWFsb2cgZXh0ZW5kcyBDb21wb25lbnQ8U2lnbmF0dXJlPiB7XG4gIDx0ZW1wbGF0ZT5cbiAgICB7e3lpZWxkXG4gICAgICAoaGFzaFxuICAgICAgICBpc09wZW49dGhpcy5pc09wZW5cbiAgICAgICAgb3Blbj10aGlzLm9wZW5cbiAgICAgICAgY2xvc2U9dGhpcy5jbG9zZVxuICAgICAgICBEaWFsb2c9KGNvbXBvbmVudCBEaWFsb2dFbGVtZW50IG9wZW49QG9wZW4gb25DbG9zZT10aGlzLmhhbmRsZUNsb3NlIHJlZ2lzdGVyPXRoaXMucmVnaXN0ZXIpXG4gICAgICApXG4gICAgfX1cbiAgPC90ZW1wbGF0ZT5cblxuICBAbG9jYWxDb3B5KCdhcmdzLm9wZW4nKSBkZWNsYXJlIF9pc09wZW46IGJvb2xlYW47XG5cbiAgZ2V0IGlzT3BlbigpIHtcbiAgICAvKipcbiAgICAgKiBBbHdheXMgZmFsbGJhY2sgdG8gZmFsc2UgKGNsb3NlZClcbiAgICAgKi9cbiAgICByZXR1cm4gdGhpcy5faXNPcGVuID8_IGZhbHNlO1xuICB9XG4gIHNldCBpc09wZW4odmFsOiBib29sZWFuKSB7XG4gICAgdGhpcy5faXNPcGVuID0gdmFsO1xuICB9XG5cbiAgQHRyYWNrZWQgZGVjbGFyZSBkaWFsb2dFbGVtZW50OiBIVE1MRGlhbG9nRWxlbWVudCB8IHVuZGVmaW5lZDtcblxuICByZWdpc3RlciA9IG1vZGlmaWVyKChlbGVtZW50OiBIVE1MRGlhbG9nRWxlbWVudCkgPT4ge1xuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgdmVyeSBzYWQuXG4gICAgICpcbiAgICAgKiBCdXQgd2UgbmVlZCB0aGUgZWxlbWVudCB0byBiZSAncm9vdCBzdGF0ZSdcbiAgICAgKiBzbyB0aGF0IHdoZW4gd2UgcmVhZCB0aGluZ3MgbGlrZSBcImlzT3BlblwiLFxuICAgICAqIHdoZW4gdGhlIGRpYWxvZyBpcyBmaW5hbGx5IHJlbmRlcmVkLCBhbGwgdGhlXG4gICAgICogZG93bnN0cmVhbSBwcm9wZXJ0aWVzIHJlbmRlci5cbiAgICAgKlxuICAgICAqIFRoaXMgaGFzIHRvIGJlIGFuIGFzeW5jIC8gZGVsYXllZCBhIGJpdCwgc28gdGhhdFxuICAgICAqIHRoZSB0cmFja2luZyBmcmFtZSBjYW4gZXhpdCwgYW5kIHdlIGRvbid0IGluZmluaXRlIGxvb3BcbiAgICAgKi9cbiAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgUHJvbWlzZS5yZXNvbHZlKCk7XG5cbiAgICAgIHRoaXMuZGlhbG9nRWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgfSkoKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIENsb3NlcyB0aGUgZGlhbG9nIC0tIHRoaXMgd2lsbCB0aHJvdyBhbiBlcnJvciBpbiBkZXZlbG9wbWVudCBpZiB0aGUgZGlhbG9nIGVsZW1lbnQgd2FzIG5vdCByZW5kZXJlZFxuICAgKi9cbiAgY2xvc2UgPSAoKSA9PiB7XG4gICAgYXNzZXJ0KFxuICAgICAgJ0Nhbm5vdCBjYWxsIGBjbG9zZWAgb24gPERpYWxvZz4gd2l0aG91dCByZW5kZXJpbmcgdGhlIGRpYWxvZyBlbGVtZW50LicsXG4gICAgICB0aGlzLmRpYWxvZ0VsZW1lbnRcbiAgICApO1xuXG4gICAgLyoqXG4gICAgICogSWYgdGhlIGVsZW1lbnQgaXMgYWxyZWFkeSBjbG9zZWQsIGRvbid0IHJ1biBhbGwgdGhpcyBhZ2FpblxuICAgICAqL1xuICAgIGlmICghdGhpcy5kaWFsb2dFbGVtZW50Lmhhc0F0dHJpYnV0ZSgnb3BlbicpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmVtb3ZlcyB0aGUgYG9wZW5gIGF0dHJpYnV0ZVxuICAgICAqIGhhbmRsZUNsb3NlIHdpbGwgYmUgY2FsbGVkIGJlY2F1c2UgdGhlIGRpYWxvZyBoYXMgYm91bmQgdGhlIGBjbG9zZWAgZXZlbnQuXG4gICAgICovXG4gICAgdGhpcy5kaWFsb2dFbGVtZW50LmNsb3NlKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKlxuICAgKiBoYW5kbGVzIHRoZSA8ZGlhbG9nPiBlbGVtZW50J3MgbmF0aXZlIGNsb3NlIGJlaGF2aW9yLlxuICAgKiBsaXN0ZW5lZCB0byB2aWEgYWRkRXZlbnRMaXN0ZW5lcignY2xvc2UnLCAuLi4pO1xuICAgKi9cbiAgaGFuZGxlQ2xvc2UgPSAoKSA9PiB7XG4gICAgYXNzZXJ0KFxuICAgICAgJ0Nhbm5vdCBjYWxsIGBoYW5kbGVEaWFsb2dDbG9zZWAgb24gPERpYWxvZz4gd2l0aG91dCByZW5kZXJpbmcgdGhlIGRpYWxvZyBlbGVtZW50LiBUaGlzIGlzIGxpa2VseSBhIGJ1ZyBpbiBlbWJlci1wcmltaXRpdmVzLiBQbGVhc2Ugb3BlbiBhbiBpc3N1ZSA8MycsXG4gICAgICB0aGlzLmRpYWxvZ0VsZW1lbnRcbiAgICApO1xuXG4gICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICB0aGlzLmFyZ3Mub25DbG9zZT8uKHRoaXMuZGlhbG9nRWxlbWVudC5yZXR1cm5WYWx1ZSk7XG4gICAgLy8gdGhlIHJldHVybiB2YWx1ZSBlbmRzIHVwIHN0YXlpbmcuLi4gd2hpY2ggaXMgYW5ub3lpbmdcbiAgICB0aGlzLmRpYWxvZ0VsZW1lbnQucmV0dXJuVmFsdWUgPSAnJztcbiAgfTtcblxuICAvKipcbiAgICogT3BlbnMgdGhlIGRpYWxvZyAtLSB0aGlzIHdpbGwgdGhyb3cgYW4gZXJyb3IgaW4gZGV2ZWxvcG1lbnQgaWYgdGhlIGRpYWxvZyBlbGVtZW50IHdhcyBub3QgcmVuZGVyZWRcbiAgICovXG4gIG9wZW4gPSAoKSA9PiB7XG4gICAgYXNzZXJ0KFxuICAgICAgJ0Nhbm5vdCBjYWxsIGBvcGVuYCBvbiA8RGlhbG9nPiB3aXRob3V0IHJlbmRlcmluZyB0aGUgZGlhbG9nIGVsZW1lbnQuJyxcbiAgICAgIHRoaXMuZGlhbG9nRWxlbWVudFxuICAgICk7XG5cbiAgICAvKipcbiAgICAgKiBJZiB0aGUgZWxlbWVudCBpcyBhbHJlYWR5IG9wZW4sIGRvbid0IHJ1biBhbGwgdGhpcyBhZ2FpblxuICAgICAqL1xuICAgIGlmICh0aGlzLmRpYWxvZ0VsZW1lbnQuaGFzQXR0cmlidXRlKCdvcGVuJykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBhZGRzIHRoZSBgb3BlbmAgYXR0cmlidXRlXG4gICAgICovXG4gICAgdGhpcy5kaWFsb2dFbGVtZW50LnNob3dNb2RhbCgpO1xuICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcbiAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IE1vZGFsID0gTW9kYWxEaWFsb2c7XG5leHBvcnQgY29uc3QgRGlhbG9nID0gTW9kYWxEaWFsb2c7XG5cbmV4cG9ydCBkZWZhdWx0IE1vZGFsRGlhbG9nO1xuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLGVBQWUscUJBQXFCO0FBQzNDLFNBQVMsT0FBTyxRQUFRLG9CQUFvQjtBQUM1QyxTQUFTLE1BQU0sUUFBUSxlQUFlO0FBQ3RDLFNBQVMsSUFBSSxRQUFRLGdCQUFnQjtBQUNyQyxTQUFTLEVBQUUsUUFBUSxrQkFBa0I7QUFFckMsU0FBUyxRQUFR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"],"names":["DialogElement","precompileTemplate","scope","on","strictMode","templateOnly","ModalDialog","Component","setComponentTemplate","hash","g","this","prototype","localCopy","i","void 0","isOpen","_isOpen","val1","tracked","register","modifier","element1","Promise","resolve","dialogElement","close","assert","hasAttribute","handleClose","args","onClose","returnValue","open","showModal","Modal","Dialog"],"mappings":";;;;;;;;;;;;AAgBA,MAAMA,gBAkBDC,oBAAAA,CAAAA,kBAAA,CAIL,iHAAA,EAAA;AAAAC,EAAAA,KAAA,EAAAA,OAAA;AAAAC,IAAAA,EAAAA;AAAA,GAAA,CAAA;EAAAC,UAAA,EAAA,IAAA;AAAU,CAAA,CAAA,EAAAC,YAAA,EAAA,CAAA,CAAA;AAiDV,IAAAC,WAAM,GAAN,MAAMA,WAAA,SAAoBC,SAAA,CAAU;AAClC,EAAA;IAAAC,oBAAA,CAAAP,kBAAA,CASA,2KAAA,EAAA;AAAAC,MAAAA,KAAA,EAAAA,OAAA;QAAAO,IAAA;AAAAT,QAAAA,aAAAA;AAAA,OAAA,CAAA;MAAAI,UAAA,EAAA,IAAA;AAAU,KAAA,CAAA,EAAV,IAAW,CAAA,CAAA;AAAD,GAAA;AATA,EAAA;AAAAM,IAAAA,CAAA,CAAAC,IAAA,CAAAC,SAAA,EAAA,SAAA,EAAA,CAWTC,SAAA,CAAU,WAAA,CAAA,CAAA,CAAA,CAAA;AAAA,GAAA;AAAA,EAAA,QAAA,IAAAC,CAAA,CAAAH,IAAA,cAAAI,KAAA,CAAA,EAAA;AAEX,EAAA,IAAIC,SAAS;AACX;;;IAGA,OAAO,IAAI,CAACC,OAAO,IAAI,KAAA,CAAA;AACzB,GAAA;EACA,IAAID,MAAAA,CAAOE,IAAY,EAAE;IACvB,IAAI,CAACD,OAAO,GAAGC,IAAA,CAAA;AACjB,GAAA;AAAA,EAAA;AAAAR,IAAAA,CAAA,CAAAC,IAAA,CAAAC,SAAA,oBAECO,OAAA,CAAA,CAAA,CAAA;AAAA,GAAA;AAAA,EAAA,cAAA,IAAAL,CAAA,CAAAH,IAAA,oBAAAI,KAAA,CAAA,EAAA;EAEDK,QAAA,GAAWC,QAAA,CAAUC,QAAS,IAAA;AAC5B;;;;;;;;;;;IAWA,CAAC,YAAA;MACC,MAAMC,OAAA,CAAQC,OAAO,EAAA,CAAA;MAErB,IAAI,CAACC,aAAa,GAAGH,QAAA,CAAA;KACtB,GAAA,CAAA;AACH,GAAA,CAAA,CAAA;AAEA;;;AAGAI,EAAAA,KAAA,GAAQA,MAAA;AACNC,IAAAA,MAAA,CACE,uEAAA,EACA,IAAI,CAACF,aAAa,CAAA,CAAA;AAGpB;;;AAGA,IAAA,IAAI,CAAC,IAAI,CAACA,aAAa,CAACG,YAAY,CAAC,MAAS,CAAA,EAAA;AAC5C,MAAA,OAAA;AACF,KAAA;AAEA;;;;IAIA,IAAI,CAACH,aAAa,CAACC,KAAK,EAAA,CAAA;AAC1B,GAAA,CAAA;AAEA;;;;;;AAMAG,EAAAA,WAAA,GAAcA,MAAA;AACZF,IAAAA,MAAA,CACE,qJAAA,EACA,IAAI,CAACF,aAAa,CAAA,CAAA;IAGpB,IAAI,CAACT,MAAM,GAAG,KAAA,CAAA;IACd,IAAI,CAACc,IAAI,CAACC,OAAO,GAAG,IAAI,CAACN,aAAa,CAACO,WAAW,CAAA,CAAA;AAClD;AACA,IAAA,IAAI,CAACP,aAAa,CAACO,WAAW,GAAG,EAAA,CAAA;AACnC,GAAA,CAAA;AAEA;;;AAGAC,EAAAA,IAAA,GAAOA,MAAA;AACLN,IAAAA,MAAA,CACE,sEAAA,EACA,IAAI,CAACF,aAAa,CAAA,CAAA;AAGpB;;;AAGA,IAAA,IAAI,IAAI,CAACA,aAAa,CAACG,YAAY,CAAC,MAAS,CAAA,EAAA;AAC3C,MAAA,OAAA;AACF,KAAA;AAEA;;;IAGA,IAAI,CAACH,aAAa,CAACS,SAAS,EAAA,CAAA;IAC5B,IAAI,CAAClB,MAAM,GAAG,IAAA,CAAA;AAChB,GAAA,CAAA;AACF,EAAA;AAEO,MAAMmB,KAAA,GAAQ7B,YAAA;AACd,MAAM8B,MAAA,GAAS9B;;;;"}