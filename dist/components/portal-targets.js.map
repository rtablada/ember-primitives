{"version":3,"file":"portal-targets.js","sources":["../../src/components/portal-targets.gts"],"sourcesContent":["import { template } from \"@ember/template-compiler\";\nimport { assert } from '@ember/debug';\nimport { isDevelopingApp, macroCondition } from '@embroider/macros';\nimport type { TOC } from '@ember/component/template-only';\nexport const TARGETS = Object.freeze({\n    popover: 'ember-primitives__portal-targets__popover',\n    tooltip: 'ember-primitives__portal-targets__tooltip',\n    modal: 'ember-primitives__portal-targets__modal'\n});\nexport function findNearestTarget(origin1: Element, name1: string) {\n    assert(`first argument to \\`findNearestTarget\\` must be an element`, origin1 instanceof Element);\n    assert(`second argument to \\`findNearestTarget\\` must be a string`, typeof name1 === `string`);\n    let element1: Element | null = null;\n    let parent1 = origin1.parentNode;\n    while(!element1 && parent1){\n        element1 = parent1.querySelector(`[data-portal-name=${name1}]`);\n        if (element1) break;\n        parent1 = parent1.parentNode;\n    }\n    if (macroCondition(isDevelopingApp())) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        (window as any).prime0 = origin1;\n    }\n    assert(`Could not find element by the given name: \\`${name1}\\`.` + ` The known names are ` + `${Object.values(TARGETS).join(', ')} ` + `-- but any name will work as long as it is set to the \\`data-portal-name\\` attribute. ` + `Double check that the element you're wanting to portal to is rendered. ` + `The element passed to \\`findNearestTarget\\` is stored on \\`window.prime0\\` ` + `You can debug in your browser's console via ` + `\\`document.querySelector('[data-portal-name=\"${name1}\"]')\\``, element1);\n    return element1;\n}\nexport interface Signature {\n    Args: {\n    };\n    Blocks: {\n    };\n}\nexport const PortalTargets: TOC<Signature> = template(`\n  <div data-portal-name={{TARGETS.popover}}></div>\n  <div data-portal-name={{TARGETS.tooltip}}></div>\n  <div data-portal-name={{TARGETS.modal}}></div>\n`, {\n    eval () {\n        return eval(arguments[0]);\n    }\n});\nexport default PortalTargets;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL2VtYmVyLXByaW1pdGl2ZXMvZW1iZXItcHJpbWl0aXZlcy9lbWJlci1wcmltaXRpdmVzL3NyYy9jb21wb25lbnRzL3BvcnRhbC10YXJnZXRzLmd0cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhc3NlcnQgfSBmcm9tICdAZW1iZXIvZGVidWcnO1xuaW1wb3J0IHsgaXNEZXZlbG9waW5nQXBwLCBtYWNyb0NvbmRpdGlvbiB9IGZyb20gJ0BlbWJyb2lkZXIvbWFjcm9zJztcblxuaW1wb3J0IHR5cGUgeyBUT0MgfSBmcm9tICdAZW1iZXIvY29tcG9uZW50L3RlbXBsYXRlLW9ubHknO1xuXG5leHBvcnQgY29uc3QgVEFSR0VUUyA9IE9iamVjdC5mcmVlemUoe1xuICBwb3BvdmVyOiAnZW1iZXItcHJpbWl0aXZlc19fcG9ydGFsLXRhcmdldHNfX3BvcG92ZXInLFxuICB0b29sdGlwOiAnZW1iZXItcHJpbWl0aXZlc19fcG9ydGFsLXRhcmdldHNfX3Rvb2x0aXAnLFxuICBtb2RhbDogJ2VtYmVyLXByaW1pdGl2ZXNfX3BvcnRhbC10YXJnZXRzX19tb2RhbCcsXG59KTtcblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmROZWFyZXN0VGFyZ2V0KG9yaWdpbjogRWxlbWVudCwgbmFtZTogc3RyaW5nKSB7XG4gIGFzc2VydChgZmlyc3QgYXJndW1lbnQgdG8gXFxgZmluZE5lYXJlc3RUYXJnZXRcXGAgbXVzdCBiZSBhbiBlbGVtZW50YCwgb3JpZ2luIGluc3RhbmNlb2YgRWxlbWVudCk7XG4gIGFzc2VydChgc2Vjb25kIGFyZ3VtZW50IHRvIFxcYGZpbmROZWFyZXN0VGFyZ2V0XFxgIG11c3QgYmUgYSBzdHJpbmdgLCB0eXBlb2YgbmFtZSA9PT0gYHN0cmluZ2ApO1xuXG4gIGxldCBlbGVtZW50OiBFbGVtZW50IHwgbnVsbCA9IG51bGw7XG5cbiAgbGV0IHBhcmVudCA9IG9yaWdpbi5wYXJlbnROb2RlO1xuXG4gIHdoaWxlICghZWxlbWVudCAmJiBwYXJlbnQpIHtcbiAgICBlbGVtZW50ID0gcGFyZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXBvcnRhbC1uYW1lPSR7bmFtZX1dYCk7XG4gICAgaWYgKGVsZW1lbnQpIGJyZWFrO1xuICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlO1xuICB9XG5cbiAgaWYgKG1hY3JvQ29uZGl0aW9uKGlzRGV2ZWxvcGluZ0FwcCgpKSkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgKHdpbmRvdyBhcyBhbnkpLnByaW1lMCA9IG9yaWdpbjtcbiAgfVxuXG4gIGFzc2VydChcbiAgICBgQ291bGQgbm90IGZpbmQgZWxlbWVudCBieSB0aGUgZ2l2ZW4gbmFtZTogXFxgJHtuYW1lfVxcYC5gICtcbiAgICAgIGAgVGhlIGtub3duIG5hbWVzIGFyZSBgICtcbiAgICAgIGAke09iamVjdC52YWx1ZXMoVEFSR0VUUykuam9pbignLCAnKX0gYCArXG4gICAgICBgLS0gYnV0IGFueSBuYW1lIHdpbGwgd29yayBhcyBsb25nIGFzIGl0IGlzIHNldCB0byB0aGUgXFxgZGF0YS1wb3J0YWwtbmFtZVxcYCBhdHRyaWJ1dGUuIGAgK1xuICAgICAgYERvdWJsZSBjaGVjayB0aGF0IHRoZSBlbGVtZW50IHlvdSdyZSB3YW50aW5nIHRvIHBvcnRhbCB0byBpcyByZW5kZXJlZC4gYCArXG4gICAgICBgVGhlIGVsZW1lbnQgcGFzc2VkIHRvIFxcYGZpbmROZWFyZXN0VGFyZ2V0XFxgIGlzIHN0b3JlZCBvbiBcXGB3aW5kb3cucHJpbWUwXFxgIGAgK1xuICAgICAgYFlvdSBjYW4gZGVidWcgaW4geW91ciBicm93c2VyJ3MgY29uc29sZSB2aWEgYCArXG4gICAgICBgXFxgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcG9ydGFsLW5hbWU9XCIke25hbWV9XCJdJylcXGBgLFxuICAgIGVsZW1lbnRcbiAgKTtcblxuICByZXR1cm4gZWxlbWVudDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTaWduYXR1cmUge1xuICBBcmdzOiB7fTtcbiAgQmxvY2tzOiB7fTtcbn1cblxuZXhwb3J0IGNvbnN0IFBvcnRhbFRhcmdldHM6IFRPQzxTaWduYXR1cmU-ID0gPHRlbXBsYXRlPlxuICA8ZGl2IGRhdGEtcG9ydGFsLW5hbWU9e3tUQVJHRVRTLnBvcG92ZXJ9fT48L2Rpdj5cbiAgPGRpdiBkYXRhLXBvcnRhbC1uYW1lPXt7VEFSR0VUUy50b29sdGlwfX0-PC9kaXY-XG4gIDxkaXYgZGF0YS1wb3J0YWwtbmFtZT17e1RBUkdFVFMubW9kYWx9fT48L2Rpdj5cbjwvdGVtcGxhdGU-O1xuXG5leHBvcnQgZGVmYXVsdCBQb3J0YWxUYXJnZXRzO1xuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxTQUFTLE1BQU0sUUFBUSxlQUFlO0FBQ3RDLFNBQVMsZUFBZSxFQUFFLGNBQWMsUUFBUSxvQkFBb0I7QUFFcEUsY0FBYyxHQUFHLFFBQVEsaUNBQWlDO0FBRTFELE9BQU8sTUFBTSxVQUFVLE9BQU8sTUFBTSxDQUFDO0lBQ25DLFNBQVM7SUFDVCxTQUFTO0lBQ1QsT0FBTztBQUNULEdBQUc7QUFFSCxPQUFPLFNBQVMsa0JBQWtCLFNBQVEsT0FBTyxFQUFFLE9BQU0sTUFBTTtJQUM3RCxPQUFPLENBQUMsMERBQTBELENBQUMsRUFBRSxtQkFBa0I7SUFDdkYsT0FBTyxDQUFDLHlEQUF5RCxDQUFDLEVBQUUsT0FBTyxVQUFTLENBQUMsTUFBTSxDQUFDO0lBRTVGLElBQUksVUFBUyxVQUFVLElBQUksR0FBRztJQUU5QixJQUFJLFVBQVMsUUFBTyxVQUFVO0lBRTlCLE1BQU8sQ0FBQyxZQUFXLFFBQVE7UUFDekIsV0FBVSxRQUFPLGFBQWEsQ0FBQyxDQUFDLGtCQUFrQixFQUFFLE1BQUssQ0FBQyxDQUFDO1FBQzNELElBQUksVUFBUztRQUNiLFVBQVMsUUFBTyxVQUFVO0lBQzVCO0lBRUEsSUFBSSxlQUFlLG9CQUFvQjtRQUNyQyw4REFBOEQ7UUFDOUQsQ0FBQyxVQUFVLEdBQUcsRUFBRSxNQUFNLEdBQUc7SUFDM0I7SUFFQSxPQUNFLENBQUMsNENBQTRDLEVBQUUsTUFBSyxHQUFHLENBQUMsR0FDdEQsQ0FBQyxxQkFBcUIsQ0FBQyxHQUN2QixDQUFDLEVBQUUsT0FBTyxNQUFNLENBQUMsU0FBUyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsR0FDdkMsQ0FBQyxzRkFBc0YsQ0FBQyxHQUN4RixDQUFDLHVFQUF1RSxDQUFDLEdBQ3pFLENBQUMsMkVBQTJFLENBQUMsR0FDN0UsQ0FBQyw0Q0FBNEMsQ0FBQyxHQUM5QyxDQUFDLDZDQUE2QyxFQUFFLE1BQUssTUFBTSxDQUFDLEVBQzlEO0lBR0YsT0FBTztBQUNUO0FBRUEsaUJBQWlCO0lBQ2Y7O0lBQ0E7OztBQUdGLE9BQU8sTUFBTSxlQUFlLElBQUksYUFBYSxTQUFVLENBQUE7Ozs7QUFJdkQsQ0FBQSxFQUFBO0lBQUE7UUFBQSxPQUFBLEtBQUEsU0FBQSxDQUFBLEVBQVc7SUFBRDtBQUFBLEdBQUU7QUFFWixlQUFlLGNBQWMifQ"],"names":["TARGETS","Object","freeze","popover","tooltip","modal","findNearestTarget","origin1","name1","assert","Element","element1","parent1","parentNode","querySelector","macroCondition","isDevelopingApp","window","prime0","values","join","PortalTargets","setComponentTemplate","precompileTemplate","scope","strictMode","templateOnly"],"mappings":";;;;;;MAKaA,OAAA,GAAUC,MAAA,CAAOC,MAAM,CAAC;AACnCC,EAAAA,OAAA,EAAS,2CAAA;AACTC,EAAAA,OAAA,EAAS,2CAAA;AACTC,EAAAA,KAAA,EAAO,yCAAA;AACT,CAAA,EAAA;AAEO,SAASC,iBAAAA,CAAkBC,OAAe,EAAEC,KAAY,EAAA;AAC7DC,EAAAA,MAAA,CAAQ,CAAA,0DAAA,CAA2D,EAAEF,OAAA,YAAkBG,OAAA,CAAA,CAAA;AACvFD,EAAAA,MAAA,CAAQ,CAA0D,yDAAA,CAAA,EAAE,OAAOD,KAAA,KAAU,CAAO,MAAA,CAAA,CAAA,CAAA;AAE5F,EAAA,IAAIG,QAAuB,GAAG,IAAA,CAAA;AAE9B,EAAA,IAAIC,OAAA,GAASL,OAAA,CAAOM,UAAU,CAAA;AAE9B,EAAA,OAAO,CAACF,QAAA,IAAWC,OAAA,EAAQ;AACzBD,IAAAA,QAAA,GAAUC,OAAA,CAAOE,aAAa,CAAE,CAAA,kBAAA,EAAoBN,KAAK,CAAE,CAAA,CAAA,CAAA,CAAA;AAC3D,IAAA,IAAIG,QAAA,EAAS,MAAA;IACbC,OAAA,GAASA,OAAA,CAAOC,UAAU,CAAA;AAC5B,GAAA;EAEA,IAAIE,cAAA,CAAeC,eAAA,EAAoB,CAAA,EAAA;AACrC;IACCC,MAAA,CAAeC,MAAM,GAAGX,OAAA,CAAA;AAC3B,GAAA;AAEAE,EAAAA,MAAA,CACG,CAAA,4CAAA,EAA8CD,KAAK,CAAA,GAAA,CAAI,GACrD,CAAA,qBAAA,CAAsB,GACtB,CAAA,EAAEP,MAAA,CAAOkB,MAAM,CAACnB,OAAA,CAASoB,CAAAA,IAAI,CAAC,IAAA,CAAM,CAAE,CAAA,CAAA,GACtC,CAAuF,sFAAA,CAAA,GACvF,yEAAwE,GACxE,CAAA,2EAAA,CAA4E,GAC5E,CAAA,4CAAA,CAA6C,GAC7C,CAAA,6CAAA,EAA+CZ,KAAK,CAAA,MAAA,CAAO,EAC9DG,QAAA,CAAA,CAAA;AAGF,EAAA,OAAOA,QAAA,CAAA;AACT,CAAA;MAOaU,aAAmB,GAAAC,oBAAA,CAAaC,kBAAA,CAI7C,8JAAA,EAAA;AAAAC,EAAAA,KAAA,EAAAA,OAAA;AAAAxB,IAAAA,OAAAA;AAAA,GAAA,CAAA;EAAAyB,UAAA,EAAA,IAAA;AAAU,CAAA,CAAA,EAAAC,YAAA,EAAA;;;;"}